---
import { defaultCategories } from "../../data/Categories";

export interface Props {
  activeCategory?: string;
}

const { activeCategory } = Astro.props;

// Convertir el slug a minúsculas para comparación
const normalizeCategory = (name: string) => name.toLowerCase();
---

<div class="sticky top-0 z-40 bg-gray-50 shadow-md py-4 px-4">
  <div class="mx-auto max-w-7xl">
    <!-- Carrusel de Categorías -->
    <div class="flex overflow-x-auto gap-3 pb-2 scrollbar-hide">
      <!-- Botón "Todas" -->
      <a
        href="/categoria"
        class={`shrink-0 px-6 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${
          !activeCategory
            ? "bg-ec-pink text-gray-950 shadow-md"
            : "bg-gray-200 text-gray-700 hover:bg-gray-300"
        }`}
      >
        Todas
      </a>

      <!-- Categorías -->
      {
        defaultCategories.map((category) => (
          <a
            href={category.href}
            class={`shrink-0 px-6 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${
              normalizeCategory(category.name) ===
              normalizeCategory(activeCategory || "")
                ? "bg-ec-pink text-gray-950 shadow-md"
                : "bg-gray-200 text-gray-700 hover:bg-gray-300"
            }`}
          >
            {category.name}
          </a>
        ))
      }
    </div>
  </div>
</div>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
